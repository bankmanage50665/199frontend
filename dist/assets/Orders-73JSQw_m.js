import{r as d,S as o,j as e,b as p}from"./index-C-R8sGom.js";import{T as h}from"./Title-CtaHhv0M.js";const f=()=>{const{backendUrl:l,token:n,currency:x}=d.useContext(o),[m,i]=d.useState([]),c=async()=>{try{if(!n)return null;const s=await p.post(l+"/api/order/userorders",{},{headers:{token:n}});if(s.data.success){let r=[];s.data.orders.map(t=>{t.items.map(a=>{a.status=t.status,a.payment=t.payment,a.paymentMethod=t.paymentMethod,a.date=t.date,r.push(a)})}),i(r.reverse())}}catch{}};return d.useEffect(()=>{c()},[n]),e.jsxs("div",{className:"border-t pt-16",children:[e.jsx("div",{className:"text-2xl",children:e.jsx(h,{text1:"MY",text2:"ORDERS"})}),e.jsx("div",{children:m.map((s,r)=>e.jsxs("div",{className:"py-4 border-t border-b text-gray-700 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-6 text-sm",children:[e.jsx("img",{className:"w-16 sm:w-20",src:s.image[0],alt:""}),e.jsxs("div",{children:[e.jsx("p",{className:"sm:text-base font-medium",children:s.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-base text-gray-700",children:[e.jsxs("p",{children:[x,s.price]}),e.jsxs("p",{children:["Quantity: ",s.quantity]}),e.jsxs("p",{children:["Size: ",s.size]})]}),e.jsxs("p",{className:"mt-1",children:["Date: ",e.jsx("span",{className:" text-gray-400",children:new Date(s.date).toDateString()})]}),e.jsxs("p",{className:"mt-1",children:["Payment: ",e.jsx("span",{className:" text-gray-400",children:s.paymentMethod})]})]})]}),e.jsxs("div",{className:"md:w-1/2 flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"min-w-2 h-2 rounded-full bg-green-500"}),e.jsx("p",{className:"text-sm md:text-base",children:s.status})]}),e.jsx("button",{onClick:c,className:"border px-4 py-2 text-sm font-medium rounded-sm",children:"Track Order"})]})]},r))})]})};export{f as default};
